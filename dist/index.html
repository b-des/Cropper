<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="app" style="width: auto; margin: 0 auto">
    <button class="btn btn-primary" onclick="addPhoto()">Добавить фото</button>
</div>

</body>


<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
<script src="main.js"></script>

<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
    imgs = [
        {url: 'https://images.pexels.com/photos/1236701/pexels-photo-1236701.jpeg'},
        {
            url: 'https://cdn.pixabay.com/photo/2016/11/14/04/45/elephant-1822636__340.jpg',
            thumbnail: 'https://cdn.pixabay.com/photo/2016/11/14/04/45/elephant-1822636__340.jpg'
        },
        'https://images.pexels.com/photos/556416/pexels-photo-556416.jpeg',
        'https://c4.wallpaperflare.com/wallpaper/410/867/750/vector-forest-sunset-forest-sunset-forest-wallpaper-thumb.jpg',
        'https://rog.asus.com/media/1554200908315.jpg',
        'https://cdn.guidingtech.com/media/assets/2019/07/Best-Star-Wars-HD-and-4K-Wallpapers-for-Phone-and-PC-9.jpg',
        'https://esossl-a.akamaihd.net/assets/img/cms/media/56274c7523aff0fa1744819a554d7af4_the-halls-of-the-colossus_wallpaper-1920x1080.jpg',
        'https://images3.alphacoders.com/675/675273.jpg',
    ];

    function addPhoto() {

        c.addPhotos([imgs[Math.floor(Math.random() * ((imgs.length - 1) - 0 + 1) + 0)]])
    }

    let c = new Cropper({
        container: 'app',
        handlerUrl: 'http://localhost:1234',
        dest: ['C:/\Node/\Cropper/\dist', 'uploads/12334'],
        immediate: true,
        itemsPerPage: 8,
        saveOnRefresh: false
    });
    // c.addPhotos([imgs[1], imgs[2]]);
    //c.addPhotos([imgs[2]]);


    let items = [];
    for (let i = 0; i <= 10; i++) {
        items.push(imgs[Math.floor(Math.random() * ((imgs.length - 1) - 0 + 1) + 0)]);
    }

   // c.addPhotos([imgs[5]]);
   // c.addPhotos([imgs[6]]);
    //c.addPhotos([imgs[7]]);
    c.addPhotos(items);
    //c.addPhotos([{"url":"https://cdn.guidingtech.com/media/assets/2019/07/Best-Star-Wars-HD-and-4K-Wallpapers-for-Phone-and-PC-9.jpg","thumbnail":"https://cdn.guidingtech.com/media/assets/2019/07/Best-Star-Wars-HD-and-4K-Wallpapers-for-Phone-and-PC-9.jpg","size":{"width":15,"height":10},"dest":["C:/Node/Cropper/dist","uploads/12334"],"paper":"","crop":{"x":13.768115942028984,"y":7.06164144992676,"w":72.46376811594203,"h":85.88482844505518},"original":false,"rotate":0,"border":"white","zoom":"1.3800000000000001","top":-14.8,"left":-51.3},{"url":"https://esossl-a.akamaihd.net/assets/img/cms/media/56274c7523aff0fa1744819a554d7af4_the-halls-of-the-colossus_wallpaper-1920x1080.jpg","thumbnail":"https://esossl-a.akamaihd.net/assets/img/cms/media/56274c7523aff0fa1744819a554d7af4_the-halls-of-the-colossus_wallpaper-1920x1080.jpg","size":{"width":15,"height":10},"dest":["C:/Node/Cropper/dist","uploads/12334"],"paper":"","crop":false,"original":true,"top":"","left":""},{"url":"https://images3.alphacoders.com/675/675273.jpg","thumbnail":"https://images3.alphacoders.com/675/675273.jpg","size":{"width":15,"height":10},"dest":["C:/Node/Cropper/dist","uploads/12334"],"paper":"","crop":{"x":9.491903964265774,"y":0,"w":50.25125628140704,"h":59.55669963240281},"original":false,"rotate":0,"border":"white","zoom":"1.9899999999999998","top":0,"left":-51}]);
    //c.addPhotos([{"url":"https://images.pexels.com/photos/1236701/pexels-photo-1236701.jpeg","thumbnail":"https://images.pexels.com/photos/1236701/pexels-photo-1236701.jpeg","size":{"width":15,"height":10},"dest":["C:/Node/Cropper/dist","uploads/12334"],"paper":"","original":false,"crop":{"x":18,"y":22,"w":67.94055201698514,"h":31.768498859793976},"rotate":0,"border":"","zoom":"1.5699999999999998","top":-143,"left":-77}]);
    /* c.process([{"url":"https://images3.alphacoders.com/675/675273.jpg","crop":{"x":0,"y":4.87685930260912,"w":74.07407407407408,"h":87.78346744696415},"size":{"width":15,"height":10},"dest":["C:/Node/Cropper/dist","uploads/12334"],"border":"","rotate":0,"paper":""}], (r) => {
         console.log(r);
     });*/
    c.onProcessingStart((data) => {
        console.log(data);
    });

    c.onImagesProcessed((items) => {
        console.log((items.length));
    });

</script>
</html>
